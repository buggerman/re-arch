#!/bin/bash
#
# Re-Arch Test Install Script
# For testing branches locally or with GitHub Pages branches
#

# Detect if we're running from a local directory or GitHub Pages
if [ -f "./config-kde.json" ]; then
    # Local testing - use current directory
    echo "ðŸ§ª Running in test mode (local files)"
    RE_ARCH_BASE_URL="$(pwd)" ./install
elif [ -n "${GITHUB_PAGES_URL:-}" ]; then
    # GitHub Pages branch testing
    echo "ðŸ§ª Running in GitHub Pages test mode"
    RE_ARCH_BASE_URL="$GITHUB_PAGES_URL" ./install
else
    # Fallback to production
    echo "ðŸš€ Running in production mode"
    curl -fsSL https://re-arch.xyz/install | bash
fi